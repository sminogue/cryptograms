<html>
<head>
<!-- 
  Copyright (c) 2012 Seamus Minogue. All Rights Reserved.
  
  This file is part of Cryptograms.
 
  Cryptograms is free software: you can redistribute it and/or modify
  it under the terms of the GNU Lesser General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.
 
  Cryptograms is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU Lesser General Public License for more details.
 
  You should have received a copy of the GNU Lesser General Public License
  along with Cryptograms.  If not, see <http://www.gnu.org/licenses/>.
 -->
<link rel="stylesheet/less" type="text/css" href="css/cryptograms.less">
<link rel="stylesheet" type="text/css" href="css/persona-buttons.css" />
<script src="js/libs/less-1.3.0.min.js" type="text/javascript"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.8.1/jquery.min.js" type="text/javascript"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/1.0.0.beta6/handlebars.min.js" type="text/javascript"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.3.3/underscore-min.js" type="text/javascript"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.2/jquery.cookie.js" type="text/javascript"></script>
<script src="js/libs/handlebars-remote-template.min.js" type="text/javascript"></script>
<script src="js/libs/jquery.placeholder.min.js" type="text/javascript"></script>
<script src="js/cryptogram.js" type="text/javascript"></script>
<script src="https://login.persona.org/include.js"></script>

<script type="text/javascript">
	if (!window.jQuery || !window.Handlebars || !window._) {
		window.location = "loaderror.html";
	}
</script>
</head>
<body>
	<div class="loginBar"></div>
	<div style="clear: both;"></div>
	<div class="puzzleFrame">
		<div id="settings" class="button"></div>
		<div style="margin-left: auto; margin-right: auto; width: 640px;">
			<div class="puzzle"></div>
			<div class="letter-tray">
				<div class="letter-tray-title">Available Letters</div>
				<div id="available-letters"></div>
			</div>
			<div style="clear: both;"></div>
		</div>
		<div id="controlBar" class="controls">
			<input id="submitButton" type="button" value="Submit" />
			<input id="resetButton" type="button" value="Reset" />
			<input id="skipButton" type="button" value="Skip" />
			<input id="nextButton" style="display:none;" type="button" value="Next" />
		</div>
	</div>

	<input type="button" value="Register" onclick="showRegisterDialog();"/>

	<!-- Dialogs -->
	<div class="modalBackGround"></div>

	<!-- Login Dialogs -->
	<div id="loginDialog" class="modalDialog">
		<div id="closeLoginButton" class="closeModalX button"></div>
		<div class="modal-content">
			<div>
				<h1>Login</h1>
				<p>Use your email/password or mozilla persona to login.</p>
				<div style="text-align:center;">
					<input size="40" id="userEmail" type="email" placeholder="Enter your email"/>
					<input type="password" size="40" id="userPassword" placeholder="Enter your password"/>
					<input type="button" value="Sign In" id="loginButton"><input type="button" value="Register" id="showRegisterButton">
				</div>
			</div>
			<hr>
			<div style="text-align: center; margin-top: 15px;">
				<a href="#" class="persona-button" onclick="performPersonaLogin();"><span>Mozilla Persona Sign In</span></a>
			</div>
		</div>
	</div>

	<div id="registerDialog" class="modalDialog">
		<div id="closeSettingsButton" class="closeModalX button"></div>
		<div class="modal-content">
			<h1>Register</h1>
			<p>Please fill in the following form to create your account.</p>
			<div id="registerErrorPanel" class="errorPanel"></div>
			<label id="registerEmailLabel">Email:</label>
			<input type="text" size="30" id="registerEmail" name="email"/>
			
			<label>Password:</label>
			<input type="password" size="30" id="registerPassword"/>
			
			<label>Verify Password:</label>
			<input type="password" size="30" id="verifyRegisterPassword"/>
			
			<input type="button" value="Register" id="registerButton"/>
			<div class="spacer"></div>
		</div>
	</div>

	<!-- Settings panel dialog -->
	<div id="settingsDialog" class="modalDialog">
		<div id="closeSettingsButton" class="closeModalX button"></div>
		<div id="settingsDialogContent" class="modal-content">
			<table>
				<tr>
					<td class="setting-cell">
						<label><input type="checkbox" checked="checked" id="letter-tray" value="lettertray">Show/Hide Letter Tray</label>
					</td>
					<td>
						<label><input type="checkbox" checked="checked" id="animation" value="animation">Show animated solution</label>
					</td>
				</tr>
			</table>
		</div>
		<div class="settings-controls">
			<input type="button" id="saveButton" value="Save"/>
		</div>
	</div>

	<div id="processingDialog" class="modalDialog">
		<img alt="Processing..." src="images/ajax-loader.gif">
	</div>
</body>
</html>
